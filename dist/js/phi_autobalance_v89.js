/* ============================================================ Φ-v8.9 · AUTO-BALANCE ENGINE Scroll → Depth → Luminance → φ-Balance ============================================================ */(function() { const sunCore = document.querySelector(".phi-sun-core"); const body = document.body; function updateBalance() { const scroll = window.scrollY; const docHeight = document.body.scrollHeight - window.innerHeight; // scrollRatio → 0..1 const r = Math.min(Math.max(scroll / docHeight, 0), 1); // 1) Яркость φ-солнца (затухает вниз) const brightness = 0.75 - r * 0.55; sunCore.style.opacity = brightness.toFixed(3); // 2) Легкий цветовой сдвиг в холодный (как в глубину космоса) const hueShift = 1 - r * 0.22; sunCore.style.filter = `blur(38px) brightness(${hueShift})`; // 3) Контраст текста → растёт вниз const txt = 0.92 + r * 0.05; body.style.setProperty("--phi-text-bright", txt.toFixed(3)); } window.addEventListener("scroll", updateBalance); updateBalance();})();